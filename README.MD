В процессе настройки сборки с помощью Gulp столкнулся с проблемой:
при использовании стандартного плагина gulp-imagemin на macOS, PNG и JPEG-файлы после сборки оказывались повреждёнными (file dist/img/image.png показывал data вместо PNG image data).
Браузер тоже не открывал такие картинки («битое изображение»).
Gulp по умолчанию читал файлы как текст (UTF-8), а не как бинарные данные.
Плагины imagemin, imagemin-pngquant, imagemin-mozjpeg и др. работали нестабильно и в результате картинки «ломались» при копировании/оптимизации.

В задаче images оставил только чистое копирование картинок, добавив параметр { encoding: false }, чтобы Gulp обрабатывал их как бинарные файлы:

    function images() {
    return src("src/img/**/*.*", { encoding: false })
    .pipe(dest("dist/img")); }

Теперь файлы не повреждаются.

Для сжатия картинок подключил библиотеку sharp и вынес оптимизацию в отдельный скрипт optimize.js.
Он конвертирует PNG/JPG → JPEG с качеством 75% и сжимает WebP: 
   npm run optimize


npm run build — сборка проекта;
npm start — запуск сервера разработки (BrowserSync);
npm run optimize — дополнительная оптимизация картинок.

P.S Не знаю то ли я баг словил такой, то ли еще что то, но это просто треш, надо будет с тобой отдельно разобрать этот момент